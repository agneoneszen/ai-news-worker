# 🚀 立即測試指南

## ✅ 已完成的修復

1. ✅ 修復 Vercel 404 錯誤（添加根目錄 vercel.json）
2. ✅ 修復 Firebase enableNetwork 錯誤
3. ✅ 網站可以正常顯示
4. ✅ Firebase 連接正常

## 🔍 目前狀態

- **前端**: ✅ 正常運作
- **Firebase**: ✅ 連接成功
- **資料庫**: ❌ 空的（等待後端執行）

## 🎯 立即測試步驟

### 步驟 1: 等待 Railway 重新部署

已修改 `scheduler_continuous.py`，讓它在啟動時立即執行一次。

1. 等待 Railway 自動重新部署（約 1-2 分鐘）
2. 或手動觸發重新部署：
   - Railway Dashboard > Deployments
   - 點擊最新部署的 "..." > Redeploy

### 步驟 2: 檢查 Railway Logs

1. Railway Dashboard > 選擇服務
2. 前往 **Logs** 標籤
3. 應該看到：
   ```
   ⏰ AI News Worker 排程器已啟動
   🧪 立即執行一次測試...
   🚀 開始執行每日任務：2025-12-26
   📰 [1/5] 正在抓取過去24小時的新聞...
   ...
   💾 [5/5] 正在寫入資料庫...
   ✅ 寫入成功！
   ```

### 步驟 3: 檢查 Firestore 資料

1. 前往 [Firebase Console](https://console.firebase.google.com/)
2. Firestore Database
3. 確認 `daily_news` collection 有文件
4. 確認文件包含 `content` 欄位

### 步驟 4: 檢查前端顯示

1. 重新整理網站
2. 應該看到日報內容
3. Console 應該顯示：
   ```
   📊 [useNewsData] 收到快照，文件數: 1
   ✅ [useNewsData] 成功載入 1 筆資料
   ```

## ⚠️ 注意事項

### 首次執行後

首次執行成功後，可以：
1. 註解掉立即執行的程式碼：
   ```python
   # print("🧪 立即執行一次測試...")
   # job_pipeline()
   ```
2. 讓排程器按照正常排程執行（每天 09:00 UTC）

### 如果執行失敗

請檢查 Railway Logs 中的錯誤訊息，可能原因：
- OpenAI API Key 未設定
- SERVICE_ACCOUNT_KEY 格式錯誤
- 網路連線問題
- RSS 來源無法訪問

## 📋 檢查清單

- [ ] Railway 服務運行中
- [ ] Railway Logs 顯示執行成功
- [ ] Firestore 有 `daily_news` 文件
- [ ] 前端顯示日報內容
- [ ] Console 沒有錯誤

## 🎯 預期結果

完成後應該：
1. ✅ Railway Logs 顯示執行成功
2. ✅ Firestore 有資料
3. ✅ 前端顯示日報內容
4. ✅ 網站完全正常運作

---

**提示**: 首次執行可能需要 5-10 分鐘（取決於新聞數量和 AI 分析時間）。

