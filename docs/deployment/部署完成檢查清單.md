# ✅ 部署完成檢查清單

## 🎯 部署狀態檢查

### 前端部署（Vercel）

- [ ] **專案已連接**
  - 前往 [Vercel Dashboard](https://vercel.com/dashboard)
  - 確認專案 `ai-news-worker` 存在

- [ ] **環境變數已設定**
  - `VITE_FIREBASE_API_KEY`
  - `VITE_FIREBASE_AUTH_DOMAIN`
  - `VITE_FIREBASE_PROJECT_ID`
  - `VITE_FIREBASE_STORAGE_BUCKET`
  - `VITE_FIREBASE_MESSAGING_SENDER_ID`
  - `VITE_FIREBASE_APP_ID`

- [ ] **部署成功**
  - 前往 Deployments 標籤
  - 確認最新部署狀態為 "Ready"
  - 點擊部署查看預覽 URL

- [ ] **網站可訪問**
  - 打開預覽 URL
  - 確認頁面正常顯示
  - 檢查 F12 Console 是否有錯誤

### 後端部署（Railway）

- [ ] **專案已連接**
  - 前往 [Railway Dashboard](https://railway.app/dashboard)
  - 確認服務 `ai-news-worker` 存在

- [ ] **設定正確**
  - Root Directory: `backend`
  - Builder: `Dockerfile`
  - Dockerfile Path: `Dockerfile`（相對路徑）

- [ ] **環境變數已設定**
  - `OPENAI_API_KEY` = `sk-...`
  - `SERVICE_ACCOUNT_KEY` = `{完整 JSON}`

- [ ] **部署成功**
  - 前往 Deployments 標籤
  - 確認最新部署狀態為 "Active"
  - 查看 Build Logs 確認建置成功

- [ ] **服務運行中**
  - 前往 Metrics 標籤
  - 確認 CPU/Memory 使用正常
  - 查看 Logs 確認排程器正常運行

## 🔍 詳細檢查步驟

### 步驟 1: 檢查 Railway 部署

1. **前往 Railway Dashboard**
   ```
   https://railway.app/dashboard
   ```

2. **檢查服務設定**
   - 點擊服務 `ai-news-worker`
   - 前往 **Settings** 標籤
   - 確認：
     - Root Directory: `backend`
     - Builder: `Dockerfile`
     - Dockerfile Path: `Dockerfile`

3. **檢查環境變數**
   - 前往 **Variables** 標籤
   - 確認以下變數存在：
     - `OPENAI_API_KEY`
     - `SERVICE_ACCOUNT_KEY`

4. **檢查部署狀態**
   - 前往 **Deployments** 標籤
   - 確認最新部署狀態為 "Active"
   - 點擊部署查看 Logs

5. **查看運行日誌**
   - 前往 **Logs** 標籤
   - 確認看到：
     ```
     ⏰ AI News Worker 排程器已啟動
     ```
   - 確認沒有錯誤訊息

### 步驟 2: 檢查 Vercel 部署

1. **前往 Vercel Dashboard**
   ```
   https://vercel.com/dashboard
   ```

2. **檢查專案**
   - 確認專案 `ai-news-worker` 存在
   - 點擊進入專案

3. **檢查環境變數**
   - 前往 **Settings** > **Environment Variables**
   - 確認所有 Firebase 環境變數已設定

4. **檢查部署**
   - 前往 **Deployments** 標籤
   - 確認最新部署狀態為 "Ready"
   - 點擊部署查看預覽 URL

5. **測試網站**
   - 打開預覽 URL
   - 確認頁面正常顯示
   - 檢查是否有資料（可能需要等待第一次排程執行）

### 步驟 3: 測試完整流程

1. **等待第一次排程執行**
   - Railway 排程器會在設定的時間執行
   - 或手動觸發（如果支援）

2. **檢查 Firestore**
   - 前往 [Firebase Console](https://console.firebase.google.com)
   - 前往 **Firestore Database**
   - 確認 `daily_news` collection 有資料

3. **檢查前端顯示**
   - 重新整理 Vercel 網站
   - 確認最新日報顯示

## 🐛 常見問題排查

### Railway 部署失敗

**問題**: Build 失敗
- **檢查**: Build Logs 中的錯誤訊息
- **解決**: 確認 Dockerfile 存在且正確

**問題**: 服務無法啟動
- **檢查**: Logs 中的錯誤訊息
- **解決**: 確認環境變數已設定

### Vercel 部署失敗

**問題**: Build 失敗
- **檢查**: Build Logs 中的錯誤訊息
- **解決**: 確認 `package.json` 和依賴正確

**問題**: 網站顯示空白
- **檢查**: F12 Console 中的錯誤
- **解決**: 確認 Firebase 環境變數已設定

### 資料未顯示

**問題**: 前端沒有資料
- **檢查**: Firestore 是否有資料
- **解決**: 等待排程執行或手動觸發

## 📞 需要協助？

如果遇到問題，請提供：
1. Railway/Vercel 的錯誤日誌
2. 部署狀態截圖
3. 具體的錯誤訊息

我可以協助進一步診斷問題。

