# ğŸ” å‰ç«¯é¡¯ç¤ºå•é¡Œæ’æŸ¥

## âŒ å•é¡Œï¼šç¶²é ç„¡æ³•é¡¯ç¤ºè³‡æ–™

### å¯èƒ½åŸå› 

1. **Firebase ç’°å¢ƒè®Šæ•¸æœªè¨­å®š**
   - Vercel ç’°å¢ƒè®Šæ•¸æœªè¨­å®š
   - æˆ–è¨­å®šéŒ¯èª¤

2. **Firestore è¦å‰‡é™åˆ¶**
   - è®€å–è¦å‰‡å¤ªåš´æ ¼
   - ä¸å…è¨±åŒ¿åè®€å–

3. **Firestore æ²’æœ‰è³‡æ–™**
   - å¾Œç«¯å°šæœªåŸ·è¡Œ
   - æˆ–åŸ·è¡Œå¤±æ•—

4. **å‰ç«¯è®€å–é‚è¼¯å•é¡Œ**
   - Query è¨­å®šéŒ¯èª¤
   - æ¬„ä½åç¨±ä¸åŒ¹é…

---

## âœ… æ’æŸ¥æ­¥é©Ÿ

### æ­¥é©Ÿ 1: æª¢æŸ¥ Vercel ç’°å¢ƒè®Šæ•¸

1. å‰å¾€ Vercel Dashboard
2. Settings > Environment Variables
3. ç¢ºèªä»¥ä¸‹è®Šæ•¸å·²è¨­å®šï¼š
   - `VITE_FIREBASE_API_KEY`
   - `VITE_FIREBASE_AUTH_DOMAIN`
   - `VITE_FIREBASE_PROJECT_ID`
   - `VITE_FIREBASE_STORAGE_BUCKET`
   - `VITE_FIREBASE_MESSAGING_SENDER_ID`
   - `VITE_FIREBASE_APP_ID`

**é‡è¦**: è®Šæ•¸åç¨±å¿…é ˆä»¥ `VITE_` é–‹é ­ï¼

### æ­¥é©Ÿ 2: æª¢æŸ¥ Firestore è¦å‰‡

1. å‰å¾€ Firebase Console
2. Firestore Database > Rules
3. ç¢ºèªè¦å‰‡å…è¨±è®€å–ï¼š

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /daily_news/{document=**} {
      allow read: if true; // å…è¨±æ‰€æœ‰äººè®€å–
      allow write: if false; // åªå…è¨±æœå‹™å¸³è™Ÿå¯«å…¥ï¼ˆé€éå¾Œç«¯ï¼‰
    }
  }
}
```

### æ­¥é©Ÿ 3: æª¢æŸ¥ Firestore è³‡æ–™

1. Firebase Console > Firestore Database
2. ç¢ºèª `daily_news` collection æœ‰æ–‡ä»¶
3. ç¢ºèªæ–‡ä»¶åŒ…å« `content` æ¬„ä½
4. ç¢ºèªæ–‡ä»¶ ID æ˜¯æ—¥æœŸæ ¼å¼ï¼ˆä¾‹å¦‚: `2025-12-26`ï¼‰

### æ­¥é©Ÿ 4: æª¢æŸ¥å‰ç«¯ Console

1. æ‰“é–‹ç¶²ç«™
2. æŒ‰ F12 æ‰“é–‹é–‹ç™¼è€…å·¥å…·
3. å‰å¾€ Console æ¨™ç±¤
4. æŸ¥çœ‹æ˜¯å¦æœ‰éŒ¯èª¤è¨Šæ¯

**é æœŸæ‡‰è©²çœ‹åˆ°**:
```
ğŸ” [useNewsData] é–‹å§‹è®€å– Firestore...
ğŸ“Š [useNewsData] æ”¶åˆ°å¿«ç…§ï¼Œæ–‡ä»¶æ•¸: 1
âœ… [useNewsData] æˆåŠŸè¼‰å…¥ 1 ç­†è³‡æ–™
```

**å¦‚æœæœ‰éŒ¯èª¤**:
- Firebase é…ç½®éŒ¯èª¤
- Firestore è¦å‰‡å•é¡Œ
- ç¶²è·¯é€£ç·šå•é¡Œ

---

## ğŸ”§ å¿«é€Ÿä¿®å¾©

### ä¿®å¾© 1: è¨­å®š Firestore è¦å‰‡

å¦‚æœè¦å‰‡å¤ªåš´æ ¼ï¼Œæ›´æ–°ç‚ºï¼š

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /daily_news/{document=**} {
      allow read: if true;
    }
  }
}
```

### ä¿®å¾© 2: ç¢ºèªç’°å¢ƒè®Šæ•¸

åœ¨ Vercel Dashboard ç¢ºèªæ‰€æœ‰ `VITE_` é–‹é ­çš„è®Šæ•¸å·²è¨­å®šã€‚

### ä¿®å¾© 3: æª¢æŸ¥è³‡æ–™æ ¼å¼

ç¢ºèª Firestore æ–‡ä»¶çµæ§‹ï¼š
```json
{
  "date_str": "2025-12-26",
  "content": "## ä»Šæ—¥ä¸‰å¥è©±...",
  "article_count": 2,
  "category_count": 2,
  "created_at": Timestamp,
  "status": "published"
}
```

---

## ğŸ¯ é©—è­‰æ­¥é©Ÿ

### 1. æª¢æŸ¥ Console è¼¸å‡º

æ‰“é–‹ç¶²ç«™ > F12 > Consoleï¼Œæ‡‰è©²çœ‹åˆ°ï¼š
- `ğŸ” [useNewsData] é–‹å§‹è®€å– Firestore...`
- `ğŸ“Š [useNewsData] æ”¶åˆ°å¿«ç…§ï¼Œæ–‡ä»¶æ•¸: X`
- `âœ… [useNewsData] æˆåŠŸè¼‰å…¥ X ç­†è³‡æ–™`

### 2. æª¢æŸ¥ Network è«‹æ±‚

F12 > Network æ¨™ç±¤ï¼Œæ‡‰è©²çœ‹åˆ°ï¼š
- Firebase ç›¸é—œçš„è«‹æ±‚
- ç‹€æ…‹ç¢¼ 200ï¼ˆæˆåŠŸï¼‰

### 3. æª¢æŸ¥ Firestore è³‡æ–™

Firebase Console > Firestoreï¼Œç¢ºèªï¼š
- `daily_news` collection å­˜åœ¨
- æœ‰æ–‡ä»¶ï¼ˆä¾‹å¦‚: `2025-12-26`ï¼‰
- æ–‡ä»¶åŒ…å« `content` æ¬„ä½

---

## ğŸ†˜ å¸¸è¦‹éŒ¯èª¤

### éŒ¯èª¤ 1: "Missing or insufficient permissions"

**åŸå› **: Firestore è¦å‰‡ä¸å…è¨±è®€å–

**è§£æ±º**: æ›´æ–°è¦å‰‡å…è¨±è®€å– `daily_news`

### éŒ¯èª¤ 2: "Firebase: Error (auth/api-key-not-valid)"

**åŸå› **: Firebase API Key éŒ¯èª¤æˆ–æœªè¨­å®š

**è§£æ±º**: æª¢æŸ¥ Vercel ç’°å¢ƒè®Šæ•¸

### éŒ¯èª¤ 3: "Cannot read property 'content' of undefined"

**åŸå› **: è³‡æ–™çµæ§‹ä¸åŒ¹é…

**è§£æ±º**: æª¢æŸ¥ Firestore æ–‡ä»¶çµæ§‹

---

## ğŸ“ æª¢æŸ¥æ¸…å–®

- [ ] Vercel ç’°å¢ƒè®Šæ•¸å·²è¨­å®šï¼ˆæ‰€æœ‰ `VITE_` é–‹é ­ï¼‰
- [ ] Firestore è¦å‰‡å…è¨±è®€å–
- [ ] Firestore æœ‰è³‡æ–™ï¼ˆ`daily_news` collectionï¼‰
- [ ] Console æ²’æœ‰éŒ¯èª¤
- [ ] Network è«‹æ±‚æˆåŠŸ

